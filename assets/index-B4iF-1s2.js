import{r as k,R as ge,u as re,j as S}from"./index-DGWhLj5z.js";import{d as M,i as oe,g as se,C as B,_ as me,a as ve,b as ye,c as be,I as z,e as R,u as we,f as _e,h as Oe,j as xe,k as je,l as ie,P as Se,S as H,B as U,M as ke,L as Ee,m as Ce,n as Pe,W as Me}from"./index-BVx2BbmG.js";import{bundledLanguagesInfo as Le,bundledThemesInfo as Ae}from"shiki";function Te(t,o){let e=0;return(...s)=>{const u=Date.now();u-e>=o&&(t(...s),e=u)}}const F={"(":")","[":"]","{":"}","<":">",")":"(","]":"[","}":"{",">":"<"},De=["(","[","{","<"],L="shikitor-bracket-matcher",ze=()=>{let t;function o(){const s=t,{decorations:u=[]}=this.options,h=[...u.filter(g=>{var y;const{class:b}=(y=g.properties)!=null?y:{};return typeof b=="string"||Array.isArray(b)?!b.includes(L):!1})];if(!s){this.updateOptions(g=>({...g,decorations:h}));return}const v=this.value,d=v[s.offset-1],n=v[s.offset],r=F[d],c=F[n],a=r||c;let l=[];if(a){const g=r?d:n,y=r?s.offset-1:s.offset;l.push({start:y,end:y+1,properties:{class:`shikitor-bg-lighting ${L}`}});const b=De.includes(a)?-1:1,j=[];for(let w=y+b;!(w<0||w>=v.length);w+=b){const O=v[w];if(O===g&&j.push(O),O===a){if(j.length===0){h.push({start:w,end:w+1,properties:{class:`shikitor-bg-lighting ${L}`}});break}j.pop()}}}else l=[];l.length===0&&h.length===u.length||this.updateOptions(g=>({...g,decorations:h.concat(l)}))}let e=!1;return M({name:L,onCursorChange(s){t=s,o.call(this)},onKeydown(s){s.key==="Delete"&&!oe(s)&&(e=!0)},onKeyup(s){s.key==="Delete"&&(e=!1)},onChange(){e&&o.call(this)}})},Re=Object.freeze(Object.defineProperty({__proto__:null,default:ze},Symbol.toStringTag,{value:"Module"}));function T(t,[o,e],s,{replacement:u,range:h,selectionMode:v},{line:d,lineStart:n}){const r=h[1]-h[0],a=u.length-r,l=Math.max(e+a,n(o));if(o===e)return l<0?o===0||t[o-1]===`
`?[o,o]:[0,0]:[l,l];const g=d(o),y=d(0,u);let b;return v==="select"||a<0?b=y.length-g.length:b=s,[Math.max(o+b,0),Math.max(l,0)]}function $e(t,o,e={},s=se(t)){const{lineStart:u,lineEnd:h,countLeadingSpaces:v,inferLineLeadingSpaces:d}=s,[n,r=n]=o,{tabSize:c=2,insertSpaces:a=!0}=e,l=t.length,[g,y]=[u(n),h(r)],b=n===0||t[n-1]===`
`,j=r===l||t[r]===`
`||t[r]==="\r",w=n!==r&&b&&j,O=a?" ".repeat(c):"	",x=O.length;if(b&&n===r){const f=d(n,c),E=~~(f/c),C=f%c,P=C<1?"":" ".repeat(C),N=E<=0?P:P+O.repeat(E),I=[n,r];return{replacement:N,range:I,selection:T(t,[n,r],0,{replacement:N,range:I},s),selectionMode:"end"}}let m,_,i,p=x;return w||n!==r?(m=t.slice(g,y).replaceAll(/^[ \t]*/gm,(f,E,C)=>{if(C[E]===`
`||C[E]==="\r"||E===y)return f;const P=1+~~(v(0,c,f)/c);return O.repeat(P)}),_=[g,y],i="select"):(m="	",_=[n,r],i="end",a&&(p=c-(n-g)%c,m=" ".repeat(p))),{replacement:m,range:_,selection:T(t,[n,r],p,{replacement:m,range:_,selectionMode:i},s),selectionMode:i}}function Ke(t,o,e={},s=se(t)){const{lineStart:u,lineEnd:h,countLeadingSpaces:v}=s,[d,n=d]=o,{tabSize:r=2,insertSpaces:c=!0}=e,a=t.length,l=c?" ".repeat(r):"	",g=l.length,[y,b]=[u(d),h(n)],j=d===0||t[d-1]===`
`,w=n===a||t[n]===`
`||t[n]==="\r",O=d!==n&&j&&w,x=t.slice(y,b),m=x.replaceAll(/^[ \t]*/gm,p=>{const f=v(0,r,p)-r,E=~~(f/r),C=f%r,P=C<1?"":" ".repeat(C);return E<=0?P:l.repeat(E)+P});if(m===x)throw new Error("No outdent");const _=[y,b];let i;return O||d!==n?i="select":i="end",{replacement:m,range:_,selection:T(t,[d,n],g,{replacement:m,range:_},s),selectionMode:i}}const ce={"(":")","[":"]","{":"}","<":">"},Ne={")":"(","]":"[","}":"{",">":"<"};function Ie(t){return t in ce}function Be(t){return t in Ne}function He(t,{codeStyler:{tabSize:o,insertSpaces:e},direction:s,textarea:u,value:h,rawTextHelper:v,updateSelection:d}){const n=s?$e:Ke;try{const{replacement:r,range:c,selection:[a,l],selectionMode:g}=n(h,[t.start.offset,t.end.offset],{tabSize:o,insertSpaces:e},v);u.setRangeText(r,...c,g),u.dispatchEvent(new Event("input")),d==null||d(a,l)}catch(r){const c=r;if("message"in c&&c.message!=="No outdent")throw r}}const Ue=({tabSize:t=2,insertSpaces:o=!0}={})=>M({name:"shikitor-code-styler",async onKeydown(e){var s,u;if(t<1)return;const h=~~t,v=e.target,[d]=this.selections;if(d.start.offset===d.end.offset){if(Ie(e.key)&&!(e.metaKey||e.ctrlKey)){const{value:n,selections:[r]}=this,c=r.end.offset,a=e.key,l=ce[a];if(n[c]!==l){e.preventDefault(),v.setRangeText(a+l,c,c),v.dispatchEvent(new Event("input")),this.focus(c+1);return}}if(Be(e.key)&&!(e.metaKey||e.ctrlKey)){const{value:n,selections:[r]}=this,c=r.end.offset;if(c>n.length)return;n[c]===e.key&&(e.preventDefault(),this.focus(c+1))}}if(["Tab","Enter"].includes(e.key)&&!oe(e,!1)){const{selections:[n]}=this,r={...n};if(e.key==="Enter"){if(await new Promise(l=>setTimeout(l,0)),e.defaultPrevented)return;r.start={offset:n.start.offset+1,line:n.start.line+1,character:1},r.end=r.start}e.preventDefault();const{value:c,rawTextHelper:a}=this;He(r,{codeStyler:{tabSize:h,insertSpaces:o},direction:!e.shiftKey,textarea:v,value:c,rawTextHelper:a,updateSelection:(l,g)=>this.updateSelection(0,{start:l,end:g})})}if(e.key==="ArrowLeft"&&(e.ctrlKey||e.metaKey)){const{value:n,rawTextHelper:r,selections:[{end:c}]}=this,[a,l]=[r.lineStart(c.offset),r.lineEnd(c.offset)],y=(u=(s=n.slice(a,l).match(/^\s+/))==null?void 0:s[0])!=null?u:"",b=a+y.length;if(b!==c.offset){e.preventDefault(),e.shiftKey?this.updateSelection(0,{start:b,end:c.offset}):this.focus(b);return}}}}),Fe=Object.freeze(Object.defineProperty({__proto__:null,default:Ue},Symbol.toStringTag,{value:"Module"})),qe=M({name:"expression-quick-completions",install(){const t=this.depend(["provide-completions"],o=>o.registerCompletionItemProvider("*",{triggerCharacters:["."],provideCompletionItems({value:e,lineStart:s},u){const h=e.charAt(u.offset-2);if(!/[\w\d?_()[\]'"`]/.test(h))return;let d=u.offset-1;for(;d>0&&![" ","	","\r",`
`].includes(e[d-1]);)d--;const n={start:d,end:u.offset-1},r=e.slice(n.start,n.end);return{suggestions:[{kind:B.Operator,label:"par",detail:"(expr)",range:n,insertText:`(${r})`},{kind:B.Operator,label:"not",detail:"!expr",range:n,insertText:`!${r}`}]}}}));return{dispose(){var o;(o=t.dispose)==null||o.call(t)}}}}),Ve=Object.freeze(Object.defineProperty({__proto__:null,default:qe},Symbol.toStringTag,{value:"Module"})),We="provide-mouse",Ze=()=>M({name:We,install:t=>{const o=t.element.querySelector(":scope > .shikitor-container > .shikitor-input"),e=t.element.querySelector(":scope > .shikitor-container > .shikitor-output");let s=null;return o.addEventListener("mousemove",Te(u=>{var h,v,d,n;o.style.pointerEvents="none",e.style.pointerEvents="auto";const r=document.elementFromPoint(u.clientX,u.clientY);if(o.style.pointerEvents="",e.style.pointerEvents="",r===s||(s=r,r===null)||r.className.includes("shikitor")&&r.className.includes("output")||!(r!=null&&r.className.includes("position")))return;const c=(h=/offset:(\d+)/.exec(r.className))==null?void 0:h[1];if(!c)return;const a=Number(c);if(isNaN(a))return;const[l,g,y]=(n=(d=(v=/position:(\d+):(\d+),(\d+)/.exec(r.className))==null?void 0:v.slice(1))==null?void 0:d.map(Number))!=null?n:[];!l||!g||!y||[l,g,y].some(isNaN)||t.ee.emit("hover",{start:{offset:a,line:l,character:g},end:{offset:a,line:l,character:y}},{content:o.value.slice(g-1,y-1),element:r,raw:o.value})},50)),t.extend("provide-mouse",{registerMouseProvider(){return{}}})}}),Ge=Object.freeze(Object.defineProperty({__proto__:null,default:Ze},Symbol.toStringTag,{value:"Module"})),le={"(":")","[":"]","{":"}","<":">","`":"`","'":"'",'"':'"'};function Qe(t){return t in le}const Xe="symmetry-operator",Ye=()=>M({name:Xe,onKeydown(t){var o;const e=t.target,[{start:s,end:u}]=(o=this.selections)!=null?o:[{}];s.offset!==u.offset&&Qe(t.key)&&!(t.metaKey||t.ctrlKey)&&(e.setRangeText(le[t.key],u.offset,u.offset),e.setRangeText(t.key,s.offset,s.offset),e.dispatchEvent(new Event("input")),this.focus(u.offset+2),t.preventDefault())}}),Je=Object.freeze(Object.defineProperty({__proto__:null,default:Ye},Symbol.toStringTag,{value:"Module"}));var $={exports:{}};$.exports;(function(t){var o=function(){var e=String.fromCharCode,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",h={};function v(n,r){if(!h[n]){h[n]={};for(var c=0;c<n.length;c++)h[n][n.charAt(c)]=c}return h[n][r]}var d={compressToBase64:function(n){if(n==null)return"";var r=d._compress(n,6,function(c){return s.charAt(c)});switch(r.length%4){default:case 0:return r;case 1:return r+"===";case 2:return r+"==";case 3:return r+"="}},decompressFromBase64:function(n){return n==null?"":n==""?null:d._decompress(n.length,32,function(r){return v(s,n.charAt(r))})},compressToUTF16:function(n){return n==null?"":d._compress(n,15,function(r){return e(r+32)})+" "},decompressFromUTF16:function(n){return n==null?"":n==""?null:d._decompress(n.length,16384,function(r){return n.charCodeAt(r)-32})},compressToUint8Array:function(n){for(var r=d.compress(n),c=new Uint8Array(r.length*2),a=0,l=r.length;a<l;a++){var g=r.charCodeAt(a);c[a*2]=g>>>8,c[a*2+1]=g%256}return c},decompressFromUint8Array:function(n){if(n==null)return d.decompress(n);for(var r=new Array(n.length/2),c=0,a=r.length;c<a;c++)r[c]=n[c*2]*256+n[c*2+1];var l=[];return r.forEach(function(g){l.push(e(g))}),d.decompress(l.join(""))},compressToEncodedURIComponent:function(n){return n==null?"":d._compress(n,6,function(r){return u.charAt(r)})},decompressFromEncodedURIComponent:function(n){return n==null?"":n==""?null:(n=n.replace(/ /g,"+"),d._decompress(n.length,32,function(r){return v(u,n.charAt(r))}))},compress:function(n){return d._compress(n,16,function(r){return e(r)})},_compress:function(n,r,c){if(n==null)return"";var a,l,g={},y={},b="",j="",w="",O=2,x=3,m=2,_=[],i=0,p=0,f;for(f=0;f<n.length;f+=1)if(b=n.charAt(f),Object.prototype.hasOwnProperty.call(g,b)||(g[b]=x++,y[b]=!0),j=w+b,Object.prototype.hasOwnProperty.call(g,j))w=j;else{if(Object.prototype.hasOwnProperty.call(y,w)){if(w.charCodeAt(0)<256){for(a=0;a<m;a++)i=i<<1,p==r-1?(p=0,_.push(c(i)),i=0):p++;for(l=w.charCodeAt(0),a=0;a<8;a++)i=i<<1|l&1,p==r-1?(p=0,_.push(c(i)),i=0):p++,l=l>>1}else{for(l=1,a=0;a<m;a++)i=i<<1|l,p==r-1?(p=0,_.push(c(i)),i=0):p++,l=0;for(l=w.charCodeAt(0),a=0;a<16;a++)i=i<<1|l&1,p==r-1?(p=0,_.push(c(i)),i=0):p++,l=l>>1}O--,O==0&&(O=Math.pow(2,m),m++),delete y[w]}else for(l=g[w],a=0;a<m;a++)i=i<<1|l&1,p==r-1?(p=0,_.push(c(i)),i=0):p++,l=l>>1;O--,O==0&&(O=Math.pow(2,m),m++),g[j]=x++,w=String(b)}if(w!==""){if(Object.prototype.hasOwnProperty.call(y,w)){if(w.charCodeAt(0)<256){for(a=0;a<m;a++)i=i<<1,p==r-1?(p=0,_.push(c(i)),i=0):p++;for(l=w.charCodeAt(0),a=0;a<8;a++)i=i<<1|l&1,p==r-1?(p=0,_.push(c(i)),i=0):p++,l=l>>1}else{for(l=1,a=0;a<m;a++)i=i<<1|l,p==r-1?(p=0,_.push(c(i)),i=0):p++,l=0;for(l=w.charCodeAt(0),a=0;a<16;a++)i=i<<1|l&1,p==r-1?(p=0,_.push(c(i)),i=0):p++,l=l>>1}O--,O==0&&(O=Math.pow(2,m),m++),delete y[w]}else for(l=g[w],a=0;a<m;a++)i=i<<1|l&1,p==r-1?(p=0,_.push(c(i)),i=0):p++,l=l>>1;O--,O==0&&(O=Math.pow(2,m),m++)}for(l=2,a=0;a<m;a++)i=i<<1|l&1,p==r-1?(p=0,_.push(c(i)),i=0):p++,l=l>>1;for(;;)if(i=i<<1,p==r-1){_.push(c(i));break}else p++;return _.join("")},decompress:function(n){return n==null?"":n==""?null:d._decompress(n.length,32768,function(r){return n.charCodeAt(r)})},_decompress:function(n,r,c){var a=[],l=4,g=4,y=3,b="",j=[],w,O,x,m,_,i,p,f={val:c(0),position:r,index:1};for(w=0;w<3;w+=1)a[w]=w;for(x=0,_=Math.pow(2,2),i=1;i!=_;)m=f.val&f.position,f.position>>=1,f.position==0&&(f.position=r,f.val=c(f.index++)),x|=(m>0?1:0)*i,i<<=1;switch(x){case 0:for(x=0,_=Math.pow(2,8),i=1;i!=_;)m=f.val&f.position,f.position>>=1,f.position==0&&(f.position=r,f.val=c(f.index++)),x|=(m>0?1:0)*i,i<<=1;p=e(x);break;case 1:for(x=0,_=Math.pow(2,16),i=1;i!=_;)m=f.val&f.position,f.position>>=1,f.position==0&&(f.position=r,f.val=c(f.index++)),x|=(m>0?1:0)*i,i<<=1;p=e(x);break;case 2:return""}for(a[3]=p,O=p,j.push(p);;){if(f.index>n)return"";for(x=0,_=Math.pow(2,y),i=1;i!=_;)m=f.val&f.position,f.position>>=1,f.position==0&&(f.position=r,f.val=c(f.index++)),x|=(m>0?1:0)*i,i<<=1;switch(p=x){case 0:for(x=0,_=Math.pow(2,8),i=1;i!=_;)m=f.val&f.position,f.position>>=1,f.position==0&&(f.position=r,f.val=c(f.index++)),x|=(m>0?1:0)*i,i<<=1;a[g++]=e(x),p=g-1,l--;break;case 1:for(x=0,_=Math.pow(2,16),i=1;i!=_;)m=f.val&f.position,f.position>>=1,f.position==0&&(f.position=r,f.val=c(f.index++)),x|=(m>0?1:0)*i,i<<=1;a[g++]=e(x),p=g-1,l--;break;case 2:return j.join("")}if(l==0&&(l=Math.pow(2,y),y++),a[p])b=a[p];else if(p===g)b=O+O.charAt(0);else return null;j.push(b),a[g++]=O+b.charAt(0),l--,O=b,l==0&&(l=Math.pow(2,y),y++)}}};return d}();t!=null?t.exports=o:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return o})})($);var A=$.exports;const D="shikitor-zip-tag";function et(t){return A.compressToEncodedURIComponent(`${D}:${A.compressToEncodedURIComponent(t)}`)}function tt(t){const o=A.decompressFromEncodedURIComponent(t);if(!o.startsWith(`${D}:`))throw new Error("Invalid tag, content is not compressed");const e=A.decompressFromEncodedURIComponent(o.slice(D.length+1));if(e===null)throw new Error("Failed to decompress");return e}const K=`
console.log("Hello, World!")

function add(a, b) {
  return a + b
}
`.trimStart();function ae(){let t=K;const[o,e]=location.hash.slice(1).split("/");switch(e===void 0&&(location.hash=""),o){case"zip-code":try{t=tt(e)}catch(s){console.error(s)}break;case"code":t=decodeURIComponent(e);break;case"base64":t=atob(e);break}return{code:t,type:o,content:e}}const nt=()=>M({name:"shikitor-saver",onKeydown(t){if(t.key==="s"&&(t.ctrlKey||t.metaKey)){t.preventDefault();const o=this.value,e=new URL(location.href);let s="";o!==K&&(s=`zip-code/${et(o)}`),e.hash=s,history.pushState(null,"",e)}}}),rt=Object.freeze(Object.defineProperty({__proto__:null,default:nt},Symbol.toStringTag,{value:"Module"})),ot=Object.assign({"../../../packages/core/src/plugins/bracket-matcher.ts":Re,"../../../packages/core/src/plugins/code-styler/index.ts":Fe,"../../../packages/core/src/plugins/expression-quick-completions.ts":Ve,"../../../packages/core/src/plugins/provide-completions/index.ts":me,"../../../packages/core/src/plugins/provide-mouse/index.ts":Ge,"../../../packages/core/src/plugins/provide-popup/index.ts":ve,"../../../packages/core/src/plugins/provide-selection-toolbox/index.ts":ye,"../../../packages/core/src/plugins/selection-toolbox-for-md/index.ts":be,"../../../packages/core/src/plugins/symmetry-operator.ts":Je,"./saver.ts":rt});function ue(t){return t.replace(/^\.\//,"").replace(/^\.\.\/\.\.\/\.\.\/packages\/core\/src\/plugins\//,"").replace(/^\/@fs\/.*?\/plugins\//,"").replace(/(\/index)?(.jsx?|.tsx?)$/,"")}const st=Object.entries(ot).map(([t,o])=>{const e=ue(t);return{id:e,name:e,module:o}}),q=new Set;function it(t){const o=(e,s=[])=>{var u,h;for(const[v,d]of e.entries()){if(!d)continue;const n=d.default;if(!n){console.warn("Plugin file must export a default value, skipping",s[v]);continue}t(v,(h=ue((u=s[v])!=null?u:""))!=null?h:"",n)}};return q.add(o),()=>(q.delete(o),void 0)}const ct=t=>(k.useEffect(()=>it((o,e,s)=>{const u=t.current;if(!u)return;const h=u.options.plugins.findIndex(v=>v.name===e);u.upsertPlugin(s,h===-1?void 0:h).then(()=>{console.log("Plugin updated:",e)})}),[t]),{});async function lt(t,o,e){const s=await fetch(`https://api.github.com/gists/${t}`).then(v=>v.json());if("message"in s)throw new Error(s.message);const{html_url:u,files:h}=s;return{htmlUrl:u,file:h[o??Object.keys(h)[0]],files:h}}function V(t,o){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);o&&(s=s.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),e.push.apply(e,s)}return e}function W(t){for(var o=1;o<arguments.length;o++){var e=arguments[o]!=null?arguments[o]:{};o%2?V(Object(e),!0).forEach(function(s){R(t,s,e[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):V(Object(e)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(e,s))})}return t}var at={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M8 4a3 3 0 016 0h6v6a3 3 0 110 6v6h-6.4l-.13-.86a2.5 2.5 0 00-4.94 0L8.4 22H2v-6.4l.86-.13a2.5 2.5 0 000-4.94L2 10.4V4h6zm3-1a1 1 0 00-1 1v2H4v2.76a4.5 4.5 0 010 8.48V20h2.76a4.5 4.5 0 018.48 0H18v-6h2a1 1 0 100-2h-2V6h-6V4a1 1 0 00-1-1z"}}]},fe=k.forwardRef(function(t,o){return k.createElement(z,W(W({},t),{},{id:"extension",ref:o,icon:at}))});fe.displayName="ExtensionIcon";const ut=fe;function Z(t,o){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);o&&(s=s.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),e.push.apply(e,s)}return e}function G(t){for(var o=1;o<arguments.length;o++){var e=arguments[o]!=null?arguments[o]:{};o%2?Z(Object(e),!0).forEach(function(s){R(t,s,e[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Z(Object(e)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(e,s))})}return t}var ft={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M4 4h6v2H6v4H4V4zm10 0h6v6h-2V6h-4V4zM6 14v4h4v2H4v-6h2zm14 0v6h-6v-2h4v-4h2z"}}]},pe=k.forwardRef(function(t,o){return k.createElement(z,G(G({},t),{},{id:"fullscreen-1",ref:o,icon:ft}))});pe.displayName="Fullscreen1Icon";const Q=pe;function X(t,o){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);o&&(s=s.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),e.push.apply(e,s)}return e}function Y(t){for(var o=1;o<arguments.length;o++){var e=arguments[o]!=null?arguments[o]:{};o%2?X(Object(e),!0).forEach(function(s){R(t,s,e[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):X(Object(e)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(e,s))})}return t}var pt={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M14 20v-6h6v2h-4v4h-2zm-6 0v-4H4v-2h6v6H8zm12-10h-6V4h2v4h4v2zm-10 0H4V8h4V4h2v6z"}}]},de=k.forwardRef(function(t,o){return k.createElement(z,Y(Y({},t),{},{id:"fullscreen-exit-1",ref:o,icon:pt}))});de.displayName="FullscreenExit1Icon";const dt=de;/**
 * tdesign v1.5.5
 * (c) 2024 tdesign
 * @license MIT
 */var ht={destroyOnClose:!0,placement:"top",showArrow:!0,theme:"default",duration:0};/**
 * tdesign v1.5.5
 * (c) 2024 tdesign
 * @license MIT
 */var gt=["theme","showArrow","destroyOnClose","overlayClassName","children","duration","placement","onVisibleChange"];function J(t,o){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);o&&(s=s.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),e.push.apply(e,s)}return e}function ee(t){for(var o=1;o<arguments.length;o++){var e=arguments[o]!=null?arguments[o]:{};o%2?J(Object(e),!0).forEach(function(s){ie(t,s,e[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):J(Object(e)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(e,s))})}return t}var he=k.forwardRef(function(t,o){var e=we(t,ht),s=e.theme,u=e.showArrow,h=e.destroyOnClose,v=e.overlayClassName,d=e.children,n=e.duration,r=e.placement,c=e.onVisibleChange,a=_e(e,gt),l=Oe(),g=l.classPrefix,y=k.useState(!1),b=xe(y,2),j=b[0],w=b[1],O=k.useRef(null),x=k.useRef(null),m=je("".concat(g,"-tooltip"),ie({},"".concat(g,"-tooltip--").concat(s),s),v);function _(i,p){var f=p.e,E=p.trigger;w(!1),c==null||c(i,{e:f,trigger:E})}return k.useEffect(function(){if(n!==0&&!j){var i,p;(i=O.current)===null||i===void 0||(p=i.setVisible)===null||p===void 0||p.call(i,!0),x.current=window.setTimeout(function(){var f,E;(f=O.current)===null||f===void 0||(E=f.setVisible)===null||E===void 0||E.call(f,!1),w(!0)},n)}return function(){window.clearTimeout(x.current)}},[n,j]),k.useImperativeHandle(o,function(){return ee({},O.current||{})}),ge.createElement(Se,ee({ref:O,destroyOnClose:h,showArrow:u,overlayClassName:m,onVisibleChange:_,placement:r},a),d)});he.displayName="Tooltip";/**
 * tdesign v1.5.5
 * (c) 2024 tdesign
 * @license MIT
 */var te=he;function mt(){var t;const o=re(),{theme:e="github-dark",language:s="typescript",viewMode:u="normal"}=(t=o.value)!=null?t:{};return k.useEffect(()=>(document.body.classList.toggle("fullview",u!=="normal"),document.fullscreenElement&&document.exitFullscreen(),u==="fullscreen"&&document.documentElement.requestFullscreen(),()=>{document.fullscreenElement&&document.exitFullscreen()}),[u]),S.jsxs("div",{className:"card-header",children:[S.jsxs("div",{className:"left",children:[S.jsx(H,{filterable:!0,borderless:!0,size:"small",value:s,onChange:h=>o.set("language",h),options:Le.map(h=>({value:h.id,label:h.name}))}),S.jsx(H,{filterable:!0,borderless:!0,size:"small",value:e,onChange:h=>o.set("theme",h),options:Ae.map(h=>({value:h.id,label:h.displayName}))})]}),S.jsxs("div",{className:"right",children:[S.jsx(te,{content:{normal:"Switch to full view",fullview:"Switch to fullscreen",fullscreen:"Exit fullscreen"}[u],children:S.jsx(U,{ghost:!0,variant:"text",shape:"square",icon:{normal:S.jsx(Q,{}),fullview:S.jsx(Q,{}),fullscreen:S.jsx(dt,{})}[u],onClick:()=>o.set("viewMode",u==="normal"?"fullview":u==="fullview"?"fullscreen":"normal")})}),S.jsx(te,{content:"Config extensions",children:S.jsx(U,{ghost:!0,variant:"text",shape:"square",icon:S.jsx(ut,{}),onClick:()=>ke.warning("Not implemented yet")})}),S.jsx(Ee,{hover:"color",href:"https://github.com/nwylzw/shikitor",target:"_blank",children:S.jsx("img",{src:"https://github.githubassets.com/favicons/favicon.svg",alt:"github",width:"16",height:"16"})})]})]})}const vt=st.map(({module:{default:t}})=>t);async function yt(t){const{type:o,content:e}=ae();if(o==="gist"){t.value="// Loading from gist...";const[s,u,h]=e.split("/");let v=!1,d;try{const{file:n,files:r}=await lt(s,u,h);n!=null&&n.content?t.value=n==null?void 0:n.content:(v=!0,d=Object.values(r))}catch(n){const r=n;if("message"in r&&r.message==="Not Found")v=!0;else throw n}v&&console.error(d?"File not found, available files are: "+d.map(n=>n.filename).join(", "):"Gist not found, the hash may be invalid or the gist is private")}}const{code:ne}=ae();function Ot(){const[t,o]=k.useState(ne??K),{value:{theme:e="github-dark",language:s="typescript"}}=re(),u=k.useRef(null),h=Ce();ct(u);const{setColor:v}=Pe((d,{bg:n,fg:r})=>{d.setProperty("--td-font-gray-1",n),d.setProperty("--td-bg-color-container",r),d.setProperty("--td-gray-color-13",r);const c=`color-mix(in srgb, ${r}, ${n} 10%)`;d.setProperty("--hover",c),d.setProperty("--td-gray-color-1",c)},["td-font-gray-1","td-bg-color-container","td-gray-color-13","hover","td-gray-color-1"]);return S.jsxs("div",{className:"code-editor",children:[S.jsx(mt,{}),S.jsx(Me,{ref:u,create:h,value:t,onChange:o,options:k.useMemo(()=>({theme:e,language:s}),[e,s]),plugins:vt,onColorChange:v,onMounted:yt})]})}export{Ot as default};
